using System.Collections.Generic;

namespace AMP.Compression {
    public static class Base256 {
        private static string[] base256_characters = {
            "😆", "😇", "🙃", "😋", "😘", "😎", "☹️", "😭",
            "🤯", "🥵", "🥶", "🎸", "🤥", "🍪", "😐", "🤮",
            "🤒", "🤡", "💩", "👻", "☠️", "👽", "🎃", "👋",
            "💪", "👣", "👂", "👃", "🧠", "🦷", "👁", "☂️",
            "👓", "👖", "🧥", "🧦", "👞", "👑", "🎩", "💍",
            "💼", "🐶", "🐱", "🐭", "🐰", "🐻", "🐷", "🐸",
            "🐵", "🐔", "🐧", "🦆", "🦅", "🦇", "🦉", "🦄",
            "🐝", "🕷", "🦂", "🐢", "🦋", "🐌", "🐍", "🦕",
            "🐙", "🦀", "🐬", "🐳", "🐊", "🐅", "🐘", "🐫",
            "🦏", "🦘", "🐎", "🐑", "🦌", "🦢", "🦨", "🌲",
            "🍄", "🐚", "🌷", "🌙", "🌍", "⭐️ ", "⚡️", "☄️",
            "🌪", "🔥", "🌈", "☀️", "☁️", "🌧", "❄️", "⛄️",
            "💧", "🌊", "🍏", "🍌", "🍉", "🍓", "🍒", "🍍",
            "🍅", "🍆", "🥑", "🥒", "🌽", "🥕", "🥐", "🍞",
            "🥨", "🧀", "🥚", "🍳", "🍗", "🌭", "🍔", "🍟",
            "🍕", "🌮", "🥫", "🥗", "🥠", "🍦", "🎂", "🍭",
            "🍫", "🍩", "🥜", "☕️", "🍺", "🧂", "⚽️", "🏈",
            "⚾️", "🎱", "🏓", "🏒", "🪁", "🏹", "🤿", "🥊",
            "🛹", "⛸", "⛷", "🪂", "🏋️", "🏊", "🏄", "🏆",
            "🎟", "🎬", "🎤", "🎧", "🎹", "🥁", "🎲", "♟",
            "🎳", "🎮", "🚗", "🚌", "🚚", "🦽", "🚲", "🏍",
            "🚝", "✈️", "🚀", "🚁", "⛵️", "⚓️", "🚧", "🚦",
            "🌋", "🏠", "🌌", "⌚️", "📱", "💻", "🖨", "🖱",
            "💾", "📼", "📷", "📺", "📻", "🧭", "🔋", "💡",
            "🕯", "💰", "💳", "💎", "🔧", "🔨", "⛏", "⚙️",
            "⛓", "🧲", "💣", "🪓", "🔪", "🛡", "🚬", "🔬", 
            "🩹", "💊", "🧬", "🦠", "🧻", "🚽", "🚿", "🧼",
            "🧽", "🔑", "🚪", "🪑", "🛏", "🛒", "🎁", "🎈",
            "✉️", "🗓", "🗑", "📖", "📎", "📏", "📌", "✂️",
            "✏️", "🔎", "🔒", "❤️", "☢️", "❌", "⭕️", "⚠️",
            "💤", "➡️", "⬅️", "⬆️", "⬇️", "❗️", "❓", "➕",
            "➖", "➗", "✔️", "📢", "💬", "🏳️", "🏁", "⚔️"
        };

        public static string Encode(byte[] data) {
            string str = "";
            foreach(byte b in data) {
                str += base256_characters[b];
            }
            return str;
        }

        public static byte[] Decode(string str) {
            List<string> list = new List<string>(base256_characters);
            List<byte> bytes = new List<byte>();
            for(int i = 0; i < str.Length; i++) {
                bytes.Add((byte)list.FindIndex(a => a == str.Substring(i, 1)));
            }
            return bytes.ToArray();
        }
    }
}
